const { DEVICE_FEATURE_CATEGORIES, DEVICE_FEATURE_TYPES } = require('../../../../../../utils/constants');

const PACKET = {
  PACKET_START: [0xaa, 0x0a, 0xfc, 0x3a, 0x86, 0x01],
  PACKET_END: 0x0d,
  CHECKSUM_START: 85,
};

const BLUETOOTH = {
  SERVICE_ID: 'fff0',
  CHARACTERISTIC_ID: 'fff1',
};

const FEATURES = {
  BINARY: {
    category: DEVICE_FEATURE_CATEGORIES.LIGHT,
    type: DEVICE_FEATURE_TYPES.LIGHT.BINARY,
    min: 0,
    max: 1,
  },
  BRIGHTNESS: {
    category: DEVICE_FEATURE_CATEGORIES.LIGHT,
    type: DEVICE_FEATURE_TYPES.LIGHT.BRIGHTNESS,
    min: 0,
    max: 100,
  },
  TEMPERATURE: {
    category: DEVICE_FEATURE_CATEGORIES.LIGHT,
    type: DEVICE_FEATURE_TYPES.LIGHT.TEMPERATURE,
    min: 0,
    max: 100,
  },
  COLOR: {
    category: DEVICE_FEATURE_CATEGORIES.LIGHT,
    type: DEVICE_FEATURE_TYPES.LIGHT.COLOR,
    min: 0,
    max: 16777215,
  },
};

const DEVICE_MODEL_FEATURES = {
  SML_w7: [FEATURES.BINARY, FEATURES.BRIGHTNESS, FEATURES.TEMPERATURE],
  'SML-w7': [FEATURES.BINARY, FEATURES.BRIGHTNESS, FEATURES.TEMPERATURE],
  SML_c9: [FEATURES.BINARY, FEATURES.BRIGHTNESS, FEATURES.TEMPERATURE, FEATURES.COLOR],
  'SML-c9': [FEATURES.BINARY, FEATURES.BRIGHTNESS, FEATURES.TEMPERATURE, FEATURES.COLOR],
  'SML-c4-GU53': [FEATURES.BINARY], // TODO check and complete this
  'StriimLIGHT Color': [FEATURES.BINARY], // TODO check and complete this
};

const DEVICE_MODELS = Object.keys(DEVICE_MODEL_FEATURES);

module.exports = {
  PACKET,
  BLUETOOTH,
  DEVICE_MODELS,
  DEVICE_MODEL_FEATURES,
};
